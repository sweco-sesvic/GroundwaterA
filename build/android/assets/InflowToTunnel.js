function Calculate(){var e=parseFloat(var0.value.replace(",",".")),t=parseFloat(var1.value.replace(",",".")),a=parseFloat(var2.value.replace(",",".")),i=parseFloat(var2.value.replace(",",".")),o=(parseFloat(var2.value.replace(",",".")),parseFloat(var2.value.replace(",","."))),r=6e6*(2*Math.PI*e*t)/(Math.log(2*t/a)+i),n=6e6*(2*Math.PI*e*t)/((Math.log(2*t/a)+(e/i-1))*(Math.log(1+o/a)+i)),l=Math.ceil(r),d=Math.floor(n/10),u=d/l,c=Math.round(100*u);isNaN(l)||isNaN(d)||isNaN(c)?(resultLbl1.text="Result is null, check input fields!",resultLbl2.text="",resultLbl3.text=""):(resultLbl1.text="Inflow to tunnel without sealing (L/min and 100 m): "+l,resultLbl2.text="Inflow to tunnel with sealing (L/min and 100 m): "+d,resultLbl3.text="Resulting inflow, compared to the unsealed inflow: "+c+"%",resultLbl4.text="Approximate influence distance Rsealed/Runsealad: "+c+"%")}Titanium.UI.setBackgroundColor("#000");var win=Titanium.UI.currentWindow;win.backgroundImage="images/bgGradient.png",win.navTintColor="#B5CCEF";var textColor="#FFF",rowHeight=Ti.UI.SIZE,descRow=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE}),descLabel=Titanium.UI.createLabel({text:"Gustafson presents a formula, amongst others, based Thiem, of inflow to a tunnel, with and without sealing.",font:{fontSize:14,fontFamily:"Helvetica Neue"},color:textColor,left:5});descRow.add(descLabel),win.add(descRow);var row0=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE}),lbl0=Titanium.UI.createLabel({text:"Mean permeability K(r) of \nrock (m/s): ",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});row0.add(lbl0);var var0=Ti.UI.createTextArea({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,right:5,width:130,softKeyboardOnFocus:Titanium.UI.Android.SOFT_KEYBOARD_SHOW_ON_FOCUS});row0.add(var0),win.add(row0);var row1=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE}),lbl1=Titanium.UI.createLabel({text:"Tunnel depth H below \ngroundwater level (m): ",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});row1.add(lbl1);var var1=Ti.UI.createTextArea({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,right:5,width:130,softKeyboardOnFocus:Titanium.UI.Android.SOFT_KEYBOARD_SHOW_ON_FOCUS});row1.add(var1),win.add(row1);var row2=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE}),lbl2=Titanium.UI.createLabel({text:"Tunnel radius r (m): ",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});row2.add(lbl2);var var2=Ti.UI.createTextArea({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,right:5,width:130,softKeyboardOnFocus:Titanium.UI.Android.SOFT_KEYBOARD_SHOW_ON_FOCUS});row2.add(var2),win.add(row2);var row3=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE}),lbl3=Titanium.UI.createLabel({text:"Skin factor ξ \nclose to tunnel (-): ",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});row3.add(lbl3);var var3=Ti.UI.createTextArea({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,right:5,width:130,softKeyboardOnFocus:Titanium.UI.Android.SOFT_KEYBOARD_SHOW_ON_FOCUS});row3.add(var3),win.add(row3);var row4=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE}),lbl4=Titanium.UI.createLabel({text:"Mean permeability K(inj) \nof sealed zone (m/s): ",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});row4.add(lbl4);var var4=Ti.UI.createTextArea({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,right:5,width:130,softKeyboardOnFocus:Titanium.UI.Android.SOFT_KEYBOARD_SHOW_ON_FOCUS});row4.add(var4),win.add(row4);var row5=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE}),lbl5=Titanium.UI.createLabel({text:"Thickness t of sealed \nzone around tunnel (m): ",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});row5.add(lbl5);var var5=Ti.UI.createTextArea({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,right:5,width:130,softKeyboardOnFocus:Titanium.UI.Android.SOFT_KEYBOARD_SHOW_ON_FOCUS});row5.add(var5),win.add(row5);var calcRow=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE}),calculateBtn=Titanium.UI.createButton({title:"Calculate",width:200,color:"#B5CCEF",backgroundColor:"transparent"});calcRow.add(calculateBtn),win.add(calcRow),calculateBtn.addEventListener("click",function(){Calculate()});var resultHeaderRow=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE});resultHeaderRow.backgroundColor="#909FB9";var resultHeaderLbl=Titanium.UI.createLabel({text:"Result:",font:{fontSize:18,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:"black",left:5});resultHeaderRow.add(resultHeaderLbl),win.add(resultHeaderRow);var resultRow1=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE}),resultLbl1=Titanium.UI.createLabel({text:"Inflow to tunnel without sealing (L/min and 100 m): ",font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor,width:300,left:5});resultRow1.add(resultLbl1),win.add(resultRow1);var resultRow2=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE}),resultLbl2=Titanium.UI.createLabel({text:"Inflow to tunnel with sealing (L/min and 100 m): ",font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor,width:300,left:5});resultRow2.add(resultLbl2),win.add(resultRow2);var resultRow3=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE}),resultLbl3=Titanium.UI.createLabel({text:"Resulting inflow, compared to the unsealed inflow: ",font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor,width:300,left:5});resultRow3.add(resultLbl3),win.add(resultRow3);var resultRow4=Titanium.UI.createView({width:"100%",height:Ti.UI.SIZE}),resultLbl4=Titanium.UI.createLabel({text:"Approximate influence distance R(sealed)/R(unsealad): ",font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor,width:300,left:5});resultRow4.add(resultLbl4),win.add(resultRow4),win.activity.onCreateOptionsMenu=function(e){var t=e.menu,a=t.add({title:"About",showAsAction:Ti.Android.SHOW_AS_ACTION_IF_ROOM});a.addEventListener("click",function(e){var t=Titanium.UI.createWindow({title:"Steady state inflow to tunnel",url:"DetailDescription.js",lblText:"Gustafson presents a formula, amongst others, based Thiem, of inflow to a tunnel, with and without sealing. The inflow calculation refers to steady-state conditions. The tunnel is assumed long and rock is homogenous and permeability is isotropic (rarely the case).\nThe groundwater drawdown is small, to maintain the driving head force. The rock permeability is also falsely assumed to be valid for the near-field of the tunnel. The formula includes effect from grouting and also the skin factor ξ, caused by the fractures closest to the tunnel to seal by precipitation and stress. It may usually be -1 to +3, zero without that effect, and initially negative with introduced damage effects from blasting. The size of ξ is usually unknown (SKB, Äspö, Sweden). Ongoing precipitation in fissures may also be present. Generally, a rule of thumb is that the inflow q(r) ≈ K(r)·H and that q(inj) ≈ 2·p·K(inj)·H for steady state conditions. \nThus, the inflow reduction level q(inj)/q(r) is about 2·π·K(inj)/K(r) . Hence, the uncertainty of the permeability of the sealing is critical to the prediction of inflow for the steady state to a sealed tunnel. Additionally, the combined (K(inj) + ξ)-effect can be compared to the design-K(inj), from the magnitude of the actual inflow. The formula should be used with caution. The calculation error of inflow without sealing may well be large. A correction factor has been proposed by Heuer to about 10 % of the inflow rate predicted from the analytical solution. A reduction to about 30-40 % is obtained by setting the skin factor ξ to 5 instead of commonly set to zero in the Thiem formula. An actual skin >0 may explain some of the error in the estimates, using conventional setting of the Thiem formula. \nThe influence radius reduction is proportional to (q(inj)/q(r)) to a linear tunnel, but proportional to √(q(inj)/q(r)) for a single well.\n\nSee, for instance:\nGustafson G., Hydrogeology for Rock Engineers, ISRM, BeFo, 2012.\nCashman & Preene, Groundwater Lowering in Construction, A Practical Guide to Dewatering, CRC, 2013.\nHeuer, R.E. , Estimating rock-tunnel water inflow, Proceeding of the Rapid Excavation and Tunneling Conference, June 18-21, 1995.\nSKB (Swedish Nuclear Fuel and Waste Company), Site Investigations at Äspö, Sweden."});t.open()})};