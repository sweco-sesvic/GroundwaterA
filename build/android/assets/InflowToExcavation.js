function Calculate(){var e=parseFloat(var0.value.replace(",",".")),t=parseFloat(var1.value.replace(",",".")),a=parseFloat(var2.value.replace(",",".")),i=parseFloat(var3.value.replace(",",".")),o=parseFloat(var4.value.replace(",",".")),r=t+(e-t)/2,l=.9756*(i+(a-i)*(r/e)),n=.097*((l-i)/r),u=2*Math.PI*r*l,s=o*n*u,c=Math.round(1e4*s)/1e3;resultLbl.text=isNaN(c)?"Result is null, check input fields!":"The estimated inflow Q is (m3/s): "+c}function createTableViewRow(e,t,a){return Ti.UI.createTableViewRow({height:e,layout:a,selectedBackgroundColor:t})}Titanium.UI.setBackgroundColor("#000");var win=Titanium.UI.currentWindow;win.backgroundImage="images/bgGradient.png";var textColor="#FFF",rowHeight=40,rows=[],descRow=createTableViewRow("auto","transparent","absolute"),descLabel=Titanium.UI.createLabel({text:"This application estimates the radial inflow to an excavation by Darcy´s equation Q=kiA.",font:{fontSize:14,fontFamily:"Helvetica Neue"},color:textColor,left:5});descRow.add(descLabel),rows.push(descRow);var estimatedInfluenceRow=createTableViewRow("auto","transparent","absolute"),lbl0=Titanium.UI.createLabel({text:"Estimated influence\nradius R(0) (m): ",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});estimatedInfluenceRow.add(lbl0);var var0=Titanium.UI.createTextField({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,width:110,right:5});estimatedInfluenceRow.height=rowHeight,estimatedInfluenceRow.add(var0),rows.push(estimatedInfluenceRow);var radiusOfExcavationRow=createTableViewRow("auto","transparent","absolute"),lbl1=Titanium.UI.createLabel({text:"Radius of\nexcavation r(w) (m):",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});radiusOfExcavationRow.add(lbl1);var var1=Titanium.UI.createTextField({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,width:110,right:5});radiusOfExcavationRow.height=rowHeight,radiusOfExcavationRow.add(var1),rows.push(radiusOfExcavationRow);var waterHeadInfluenceRow=createTableViewRow("auto","transparent","absolute"),lbl2=Titanium.UI.createLabel({text:"Water head H(0) at influence\nradius (m):",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});waterHeadInfluenceRow.add(lbl2);var var2=Titanium.UI.createTextField({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,right:5,width:110});waterHeadInfluenceRow.height=rowHeight,waterHeadInfluenceRow.add(var2),rows.push(waterHeadInfluenceRow);var waterheadCentreRow=createTableViewRow("auto","transparent","absolute"),lbl3=Titanium.UI.createLabel({text:"Water head H(w) at centre of\nexcavation (m):",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});waterheadCentreRow.add(lbl3);var var3=Titanium.UI.createTextField({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,width:110,right:5});waterheadCentreRow.height=rowHeight,waterheadCentreRow.add(var3),rows.push(waterheadCentreRow);var hydraulicConductivityRow=createTableViewRow("auto","transparent","absolute"),lbl4=Titanium.UI.createLabel({text:"Hydraulic conductivity (m/s):",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});hydraulicConductivityRow.add(lbl4);var var4=Titanium.UI.createTextField({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,width:110,right:5});hydraulicConductivityRow.height=rowHeight,hydraulicConductivityRow.add(var4),rows.push(hydraulicConductivityRow);var calcRow=createTableViewRow(75,"transparent","absolute"),calculateBtn=Titanium.UI.createButton({title:"Calculate",width:200});calcRow.add(calculateBtn),rows.push(calcRow),calculateBtn.addEventListener("click",function(){Calculate()});var resultHeaderRow=createTableViewRow("auto","transparent","absolute");resultHeaderRow.backgroundColor="lightgray";var resultHeaderLbl=Titanium.UI.createLabel({text:"Result:",font:{fontSize:18,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:"black",left:5});resultHeaderRow.add(resultHeaderLbl),rows.push(resultHeaderRow);var resultRow=createTableViewRow("auto","transparent","absolute"),resultLbl=Titanium.UI.createLabel({text:"The estimated inflow Q is (m3/s):",font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor,width:300,left:5});resultRow.height=rowHeight,resultRow.add(resultLbl),rows.push(resultRow);var tableView=Titanium.UI.createTableView({data:rows,style:Titanium.UI.iPhone.TableViewStyle.PLAIN,separatorStyle:0,separatorColor:"transparent",backgroundColor:"transparent",height:"auto",left:5,top:10});win.add(tableView),win.addEventListener("click",function(){var0.blur(),var1.blur(),var2.blur(),var3.blur(),var4.blur()}),win.activity.onCreateOptionsMenu=function(e){var t=e.menu,a=t.add({title:"About",showAsAction:Ti.Android.SHOW_AS_ACTION_IF_ROOM});a.addEventListener("click",function(){var e=Titanium.UI.createWindow({title:"Inflow to excavation",url:"DetailDescription.js",lblText:"This application estimates the radial inflow to an excavation by Darcy´s equation Q=kiA.\n\nThis is the simplest empirical inflow formula, in which K denotes the representative hydraulic conductivity, i denotes the average hydraulic gradient and A denotes the cross-sectional area through which flow occurs. As A (and H0 and Hw) is measured from the aquifer base, both horizontal and vertical flow are accounted for. The formula is valid for low flows through uniform soils.\n\nWater head is measured upwards from aquifer base. Alternately, to use the Dupuit well equation accounts only for horizontal radial flow. As the vertical inflow can be greater than the horizontal inflow, the Darcy equation provides only an approximation of the size of the inflow. Prior to introducing numerical values, be ascertain that a correct conceptual model is formed.\n\nSee,  for instance: John Woodward, An Introduction to Geotechnical Processes, Spon Press,  2005, p. 24."});e.open()})};