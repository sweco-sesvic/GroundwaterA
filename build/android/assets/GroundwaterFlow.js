function Calculate(){var e=parseFloat(var1.value.replace(",",".")),t=parseFloat(var2.value.replace(",",".")),a=parseFloat(var3.value.replace(",",".")),i=parseFloat(var4.value.replace(",",".")),o=parseFloat(var5.value.replace(",",".")),r=e*t*1e3/315e5,l=i*a*o,n=.1666*r+.6666*(r+l)/2+.1666*l,u=Math.round(10*r)/10,s=Math.round(10*l)/10,c=Math.round(10*n)/10;isNaN(u)&&(resultLbl1.text="Result is null, check input fields!",resultLbl2.text="Result is null, check input fields!",resultLbl3.text="Result is null, check input fields!"),isNaN(s)&&(resultLbl2.text="Result is null, check input fields!",resultLbl3.text="Result is null, check input fields!"),isNaN(c)?resultLbl3.text="Result is null, check input fields!":(resultLbl1.text="The groundwater flow to the system is : "+u,resultLbl2.text="The groundwater flow in the system is : "+s,resultLbl3.text="The estimated groundwater flow in the system is : "+c)}function createTableViewRow(e,t,a){return Ti.UI.createTableViewRow({height:e,layout:a,selectedBackgroundColor:t})}Titanium.UI.setBackgroundColor("#000");var win=Titanium.UI.currentWindow;win.backgroundImage="images/bgGradient.png";var textColor="#FFF",rowHeight=40,rows=[],descRow=createTableViewRow("auto","transparent","absolute"),descLabel=Titanium.UI.createLabel({text:"This application estimates the groundwater flow in a narrow system, also considering the recharge.",font:{fontSize:14,fontFamily:"Helvetica Neue"},color:textColor,left:5});descRow.add(descLabel),rows.push(descRow);var populationMeanEstimateRow=createTableViewRow("auto","transparent","absolute"),lbl1=Titanium.UI.createLabel({text:"Groundwater recharge \nW upstream (m/yr):",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});populationMeanEstimateRow.add(lbl1);var var1=Titanium.UI.createTextField({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,width:110,right:5});populationMeanEstimateRow.height=rowHeight,populationMeanEstimateRow.add(var1),rows.push(populationMeanEstimateRow);var populationStandardDeviationRow=createTableViewRow("auto","transparent","absolute"),lbl2=Titanium.UI.createLabel({text:"Groundwater recharge \narea A upstream (m2):",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});populationStandardDeviationRow.add(lbl2);var var2=Titanium.UI.createTextField({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,right:5,width:110});populationStandardDeviationRow.height=rowHeight,populationStandardDeviationRow.add(var2),rows.push(populationStandardDeviationRow);var sampleMeanValueRow=createTableViewRow("auto","transparent","absolute"),lbl3=Titanium.UI.createLabel({text:"Average groundwater \ngradient i downstream (-):",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});sampleMeanValueRow.add(lbl3);var var3=Titanium.UI.createTextField({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,width:110,right:5});sampleMeanValueRow.height=rowHeight,sampleMeanValueRow.add(var3),rows.push(sampleMeanValueRow);var sampleStandarDeviationRow=createTableViewRow("auto","transparent","absolute"),lbl4=Titanium.UI.createLabel({text:"Average transmissivity \nT downstream (m2/s):",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});sampleStandarDeviationRow.add(lbl4);var var4=Titanium.UI.createTextField({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,width:110,right:5});sampleStandarDeviationRow.height=rowHeight,sampleStandarDeviationRow.add(var4),rows.push(sampleStandarDeviationRow);var sampleSizeRow=createTableViewRow("auto","transparent","absolute"),lbl5=Titanium.UI.createLabel({text:"Average flow width B \ndownstream (m):",left:5,font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor});sampleSizeRow.add(lbl5);var var5=Titanium.UI.createTextField({borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,clearButtonMode:Titanium.UI.INPUT_BUTTONMODE_ONFOCUS,returnKeyType:Titanium.UI.RETURNKEY_DONE,width:110,right:5});sampleSizeRow.height=rowHeight,sampleSizeRow.add(var5),rows.push(sampleSizeRow);var calcRow=createTableViewRow(75,"transparent","absolute"),calculateBtn=Titanium.UI.createButton({title:"Calculate",width:200});calcRow.add(calculateBtn),rows.push(calcRow),calculateBtn.addEventListener("click",function(){Calculate()});var resultHeaderRow=createTableViewRow("auto","transparent","absolute");resultHeaderRow.backgroundColor="lightgray";var resultHeaderLbl=Titanium.UI.createLabel({text:"Result:",font:{fontSize:18,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:"black",left:5});resultHeaderRow.add(resultHeaderLbl),rows.push(resultHeaderRow);var resultRow1=createTableViewRow("auto","transparent","absolute"),resultLbl1=Titanium.UI.createLabel({text:"Calculated groundwater flow to the system (L/s):",font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor,width:300,left:5});resultRow1.height=rowHeight,resultRow1.add(resultLbl1),rows.push(resultRow1);var resultRow2=createTableViewRow("auto","transparent","absolute"),resultLbl2=Titanium.UI.createLabel({text:"Calculated groundwater flow in the system (L/s):",font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor,width:300,left:5});resultRow2.height=rowHeight,resultRow2.add(resultLbl2),rows.push(resultRow2);var resultRow3=createTableViewRow("auto","transparent","absolute"),resultLbl3=Titanium.UI.createLabel({text:"Estimated groundwater flow in the system (L/s):",font:{fontSize:14,fontWeight:"bold",fontFamily:"Helvetica Neue"},color:textColor,width:300,left:5});resultRow3.height=rowHeight,resultRow3.add(resultLbl3),rows.push(resultRow3);var tableView=Titanium.UI.createTableView({data:rows,style:Titanium.UI.iPhone.TableViewStyle.PLAIN,separatorStyle:0,separatorColor:"transparent",backgroundColor:"transparent",height:"auto",left:5,top:10});win.add(tableView),win.addEventListener("click",function(){var1.blur(),var2.blur(),var3.blur(),var4.blur(),var5.blur()}),win.activity.onCreateOptionsMenu=function(e){var t=e.menu,a=t.add({title:"About",showAsAction:Ti.Android.SHOW_AS_ACTION_IF_ROOM});a.addEventListener("click",function(){var e=Titanium.UI.createWindow({title:"Groundwater flow",url:"DetailDescription.js",lblText:"This application estimates the groundwater flow in a narrow system, also considering the recharge. The flow in the groundwater system (Qout) must equal the recharge to the system (Qin) on average, if no pumping or infiltration occurs in the system. To estimate the recharge and the flow, then compare, means that uncertainties in the parameters can be assessed. A difference in recharge flow to the system and groundwater flow in the system, is a measure of our uncertainty. \nPreferably, uncertainty limits are set up for each of the parameters W, A, i, T and B. Parameter values within those limits are used. Still, the calculated recharge flow and groundwater flow may be different. An average groundwater flow can then be calculated, using for instance 3-Point Estimation Method, based on the uncertain parameters and combined recharge flow and groundwater flow (also used here). \n\nThe water flow can be stimated by setting Qout-Qin =0, to find optimal solutions by varying the parameter values of W, A, i, T and B within their tolerance limits, for instance by using the optimizing Solver module. However, many solutions exist. \nWith five parameters, it is manually tedious to find the zero solution."});e.open()})};